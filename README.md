# TMB
Система задач и проектов Буколпак

## Страницы

- `main.html` — дашборд с колонками, виджетом просроченных задач и системой уведомлений.
- `profile.html` — карточка профиля с загрузкой аватара и обложки, настройками тем, уведомлений и локализации.
- `task.html?id=<taskId>` — подробная карточка задачи с действиями (взять в работу, переназначить, отложить), комментариями и лентой активности. `taskId` — последовательный числовой идентификатор (например, `task.html?id=1`).

## Как запускать

Проект — статический. Для локальной проверки откройте файлы из каталога `workspace/TMB` через любой http-сервер, чтобы корректно работали обращения к `localStorage` и модульные скрипты.

Пример запуска через `npm`:

```bash
npm install --global http-server
http-server .
```

Далее откройте в браузере нужную страницу (`http://127.0.0.1:8080/main.html`, `profile.html`, `task.html?id=1`).

## Дизайн-токены и иконки

- Базовые токены цвета, типографики, анимаций и радиусов находятся в `assets/css/tokens.css`. Все компоненты используют CSS-переменные из этого файла и наследуют смену темы автоматически.
- Компоненты оболочки (топ-бар, меню пользователя, уведомления) вынесены в `assets/css/app-shell.css` и переиспользуются на страницах `profile.html` и `task.html`.
- Набор иконок подключён единым спрайтом `assets/img/system-icons.svg`. Для вставки иконки используйте разметку `<svg aria-hidden="true" focusable="false"><use href="assets/img/system-icons.svg#icon-name"></use></svg>`.
- Дополнительные параметры размеров и отступов определены в модульных стилях страниц (`css/profile.css`, `css/task.css`).

## Данные и состояния

- Данные задач, уведомлений и текущего пользователя сохраняются в `localStorage` (ключ `bukolpak_app_state_v1`).
- Генератор идентификаторов задач выдаёт последовательные числовые значения, что позволяет открывать карточку по ссылке `task.html?id=<number>` и сохраняет логи событий с правильным порядком.
- Темы синхронизируются между страницами; переключатель в хедере обновляет запись профиля и выбирается автоматически при запуске.
- Просроченные задачи доступны из списка на главной и через алерт в верхней панели, если текущий пользователь входит в рабочую группу задачи.
